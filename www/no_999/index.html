<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Mobile Rubik's Cube</title>
    <script type="importmap">
      {
        "imports": {
          "three": "https://cdn.jsdelivr.net/npm/three@0.167.0/build/three.module.js",
          "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.167.0/examples/jsm/"
        }
      }
    </script>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            font-family: Arial, sans-serif;
            background-color: #000;
            display: flex;
            flex-direction: column;
            height: 100vh;
            width: 100vw;
        }

        /* ä¸ŠåŠåˆ†ï¼šã‚­ãƒ¥ãƒ¼ãƒ– */
        #canvasContainer {
            height: 40vh; /* é«˜ã•40% */
            width: 100%;
            background-color: #000;
        }

        /* ä¸‹åŠåˆ†ï¼šãƒœã‚¿ãƒ³ */
        #buttonContainer {
            height: 60vh; /* é«˜ã•60% */
            background-color: #111;
            display: flex;
            flex-direction: column;
            justify-content: flex-start; /* ä¸Šè©°ã‚ */
            gap: 15px; /* è¡Œã”ã¨ã®éš™é–“ */
            
            padding: 20px 10px 100px 10px; /* ä¸‹ã«ã—ã£ã‹ã‚Šä½™ç™½ã‚’ä½œã‚‹ */
            padding-bottom: calc(100px + env(safe-area-inset-bottom)); /* iPhoneã®å®‰å…¨ã‚¨ãƒªã‚¢å¯¾å¿œ */

            box-sizing: border-box;
            border-top: 2px solid #333;
        }
        #landscape-warning {
            display: none; /* åˆæœŸçŠ¶æ…‹ã¯éš ã™ï¼ˆJSã§åˆ¶å¾¡ã™ã‚‹ï¼‰ */
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background-color: rgba(0, 0, 0, 0.8); /* èƒŒæ™¯ã‚’åŠé€æ˜ã®é»’ã«ã™ã‚‹ã®ã  */
            color: #ffffff; /* æ–‡å­—è‰²ã‚’ç™½ã«ã™ã‚‹ã®ã  */
            z-index: 999999; /* ä½•ã‚ˆã‚Šã‚‚ä¸Šã«è¡¨ç¤ºã™ã‚‹ã®ã  */
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            font-size: 20px; /* è­¦å‘Šæ–‡ã®æ–‡å­—ã‚µã‚¤ã‚º */
        }

        .buttonRow {
            display: flex;
            justify-content: center;
            gap: 6px; /* ãƒœã‚¿ãƒ³ãŒå¤šã„ã®ã§éš™é–“ã‚’å°‘ã—ç‹­ãã—ãŸã®ã  */
            height: 18%; /* 5è¡Œã«ã™ã‚‹ã®ã§1è¡Œã®é«˜ã•ã‚’èª¿æ•´ */
        }

        button {
            flex: 1;
            max-width: 80px; /* ãƒœã‚¿ãƒ³ã®æœ€å¤§å¹…ã‚’å›ºå®š */
            font-size: 18px; /* ãƒœã‚¿ãƒ³ãŒå¤šã„è¡Œã«åˆã‚ã›ã¦å°‘ã—ã‚µã‚¤ã‚ºèª¿æ•´ */
            font-weight: bold;
            border: none;
            border-radius: 6px;
            color: white;
            cursor: pointer;
            touch-action: manipulation;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.1s;
        }

        button:active {
            transform: scale(0.9);
            filter: brightness(1.5);
        }

        /* å„ãƒœã‚¿ãƒ³ã®è‰²è¨­å®š */
        .btn-u { background-color: #666; }
        .btn-l { background-color: #d32f2f; }
        .btn-f { background-color: #388e3c; }
        .btn-r { background-color: #f57c00; }
        .btn-b { background-color: #1976d2; }
        .btn-d { background-color: #afb42b; }
        .btn-rot { background-color: #444; } /* â˜… ä¿®æ­£ç®‡æ‰€ï¼šå…¨å›è»¢ãƒœã‚¿ãƒ³ç”¨ã®è‰² */
        
        .spacer {
            flex: 1; /* ç©ºã„ãŸã‚¹ãƒšãƒ¼ã‚¹ã‚’åŸ‹ã‚ã‚‹ */
            min-width: 80px; /* ãƒœã‚¿ãƒ³ã¨åŒã˜ãã‚‰ã„ã®å¹…ã‚’æŒãŸã›ã‚‹ */
            max-width: none; /* å¿…è¦ä»¥ä¸Šã«ç‹­ã¾ã‚‰ãªã„ã‚ˆã†ã« */
        }
    </style>
</head>
<body>
    <div id="landscape-warning">
        <div style="font-size: 40px;">ğŸ”„</div>
        <p>ã“ã®ã‚¢ãƒ—ãƒªã¯ç¸¦ç”»é¢å°‚ç”¨ãªã®ã ï¼<br>ç”»é¢ã‚’ç¸¦ã«æˆ»ã—ã¦ã»ã—ã„ã®ã ã€‚</p>
    </div>
    
    <div id="canvasContainer"></div>

    <div id="buttonContainer">
        <!-- 1æ®µç›®: Ué¢ -->
        <div class="buttonRow">
            <div class="spacer"></div> <!-- â˜… spacerã‚’è¿½åŠ  -->
            <div class="spacer"></div> <!-- â˜… spacerã‚’è¿½åŠ  -->
            <button class="btn-u">U</button>
            <button class="btn-u">U'</button>
            <div class="spacer"></div> <!-- â˜… spacerã‚’è¿½åŠ  -->
            <button class="btn-rot" id="resetCameraButton">Reset Camera</button>
            <div class="spacer"></div> <!-- â˜… spacerã‚’è¿½åŠ  -->
        </div>

        <!-- 2æ®µç›®: å´é¢ï¼ˆæ­£å›è»¢ï¼‰ -->
        <div class="buttonRow">
            <div class="spacer"></div> <!-- â˜… spacerã‚’è¿½åŠ  -->
            <button class="btn-l">L</button>
            <div class="spacer"></div> <!-- â˜… spacerã‚’è¿½åŠ  -->
            <button class="btn-f">F</button>
            <button class="btn-r">R</button>
            <button class="btn-b">B</button>
            <div class="spacer"></div> <!-- â˜… spacerã‚’è¿½åŠ  -->
        </div>

        <!-- 3æ®µç›®: å´é¢ï¼ˆé€†å›è»¢ï¼‰ -->
        <div class="buttonRow">
            <div class="spacer"></div> <!-- â˜… spacerã‚’è¿½åŠ  -->
            <button class="btn-l">L'</button>
            <div class="spacer"></div> <!-- â˜… spacerã‚’è¿½åŠ  -->
            <button class="btn-f">F'</button>
            <button class="btn-r">R'</button>
            <button class="btn-b">B'</button>
            <div class="spacer"></div> <!-- â˜… spacerã‚’è¿½åŠ  -->
        </div>

        <!-- 4æ®µç›®: Dé¢ -->
        <div class="buttonRow">
            <div class="spacer"></div> <!-- â˜… spacerã‚’è¿½åŠ  -->
            <div class="spacer"></div> <!-- â˜… spacerã‚’è¿½åŠ  -->
            <button class="btn-d">D</button>
            <button class="btn-d">D'</button>
            <div class="spacer"></div> <!-- â˜… spacerã‚’è¿½åŠ  -->
            <div class="spacer"></div> <!-- â˜… spacerã‚’è¿½åŠ  -->
            <div class="spacer"></div> <!-- â˜… spacerã‚’è¿½åŠ  -->
        </div>

        <!-- 5æ®µç›®: å…¨å›è»¢ï¼ˆX, Y, Zï¼‰ -->
        <!-- â˜… ä¿®æ­£ç®‡æ‰€ï¼šæœ€ä¸‹æ®µã«å…¨å›è»¢ãƒœã‚¿ãƒ³ã‚’ä¸€åˆ—ã«é…ç½® -->
        <div class="buttonRow">
            <button class="btn-rot">X</button>
            <button class="btn-rot">X'</button>
            <button class="btn-rot">Y</button>
            <button class="btn-rot">Y'</button>
            <button class="btn-rot">Z</button>
            <button class="btn-rot">Z'</button>
        </div>
    </div>

    <script type="module" src="rubiksCube.js"></script>

</body>
</html>